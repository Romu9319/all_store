{% extends "layout.html" %}
{% block content %}
<div class="my-3 mx-1 mx-sm-2 mx-mdx-3 mx-lg-4">    
    <ul class= "mx-5">
        <h2 class= "">Order number: {{order.order_number}}</h2>
        <div class="d-flex">
            <a class="link-secondary link-offset-2 link-underline-opacity-0 link-opacity-25" href="/"> 
                <strong>
                    <h7>Home</h7>
                </strong>
            </a>             
            <p class="mx-2 my-0"> / </p>
            <p class="my-0">Payment</p>
        </div>
        <div class="mt-2">
            <strong>
                Date: {{order.registration_date}}
            </strong>
        </div>        
    </ul>  
</div>
<div class="row m-1 justify-content-center"> 
    <div class="card m-0 col-11 col-sm-10 col-md-8 col-lg-7 border-light shadow">
        <h2 class="mx-3">Summary</h2>
        <div class="d-flex">
            <h4 class="ms-3">Shopping Cart: {{request.session.cart.items|length}} items - </h4>
            <h4 class="ms-1"> $ {{request.session.totalAmount}}</h4>
        </div>
        <div class="d-flex justify-content-end m-2">
           {{orderForm.render}}     
        </div>                
    </div>               
    <div class="container p-0 my-4 col-11 col-sm-10 col-md-8 col-lg-7 mt-2">
        {% for detail in order.orderdetail_set.all%}
        <div class="card my-2 border-light shadow">
            <div class="row g-0">
                <div class="col-11 col-sm-8 col-md-6 col-lg-3 d-flex justify-content-center align-items-center">
                    <img src="{{detail.product.image}}" class="img-fluid m-1" style="width: 9rem; height: 10rem;">
                </div>                    
                <div class="col-11 col-sm-8 col-md-6 col-lg-9 card-body d-flex flex-column justify-content-center">
                    <h5>{{detail.product.title}}</h5>
                    <p class="m-0"> {{detail.product.category}}</p>
                    <p class="m-0 flex-grow-1">{{detail.product.description}}</p>
                    <p class="m-0">$ {{detail.product.price}} - Items: {{detail.cuantity}}</p>                        
                </div>
            </div>   
        </div>            
        {% endfor%}     
    </div>
</div>
{% endblock %} 